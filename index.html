<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>SYSTEX</title>

    <!-- CSS -->
    <link rel="stylesheet" href="./css/style.css" media="screen"/>
    <link rel="stylesheet" href="./css/print.css" media="print"/>
    
    <!-- JS -->
    <script src="./scripts/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.2.228/pdf.min.js"></script>

    <!-- JSON -->
    <script type="text/javascript" src="./json/report.json"></script>

</head>
<body>
    <div class="btnBlock">
        <button id="export_pdf">輸出為 PDF</button>
        <button id="export_json">輸出 JSON</button>
    </div>
    <div id="page-1" class="page">
        <div class="normal-border">
            <table class="title-table margin" border="1">
                <tr>
                    <th>公司名稱</th>
                    <td id="company"></td>
                </tr>
                <tr>
                    <th>交付項目</th>
                    <td id="project"></td>
                </tr>
                <tr>
                    <th>維護期間</th>
                    <td id="period"></td>
                </tr>
                <tr>
                    <th>系統名稱(Hostname)</th>
                    <td id="hostname"></td>
                </tr>
            </table>
            <table class="title-table" border="1">
                <tr>
                    <th>DB 負責人</th>
                    <td id="db"></td>
                </tr>
                <tr>
                    <th>顧問姓名</th>
                    <td id="consultant"></td>
                </tr>
                <tr>
                    <td id="date" colspan="2"></td>
                </tr>
            </table>
        </div>   
    </div>
    <div id="page-2" class="page">
        <div class="upload-border">      
            <input type="file" id="upload" accept="image/*, .pdf">
            <div id="upload-message" class="unhover">
                <div>
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                    viewBox="0 0 312.602 312.602" xml:space="preserve">
                        <path class="upload-svg" d="M251.52,137.244c-3.966,0-7.889,0.38-11.738,1.134c-1.756-47.268-40.758-85.181-88.448-85.181
                        c-43.856,0-80.964,32.449-87.474,75.106C28.501,129.167,0,158.201,0,193.764c0,36.106,29.374,65.48,65.48,65.48h54.782
                        c4.143,0,7.5-3.357,7.5-7.5c0-4.143-3.357-7.5-7.5-7.5H65.48c-27.835,0-50.48-22.645-50.48-50.48c0-27.835,22.646-50.48,50.48-50.48
                        c1.367,0,2.813,0.067,4.419,0.206l7.6,0.658l0.529-7.61c2.661-38.322,34.861-68.341,73.306-68.341
                        c40.533,0,73.51,32.977,73.51,73.51c0,1.863-0.089,3.855-0.272,6.088l-0.983,11.968l11.186-4.367
                        c5.356-2.091,10.99-3.151,16.747-3.151c25.409,0,46.081,20.672,46.081,46.081c0,25.408-20.672,46.08-46.081,46.08
                        c-0.668,0-20.608-0.04-40.467-0.08c-19.714-0.04-39.347-0.08-39.999-0.08c-4.668,0-7.108-2.248-7.254-6.681v-80.959l8.139,9.667
                        c2.667,3.17,7.399,3.576,10.567,0.907c3.169-2.667,3.575-7.398,0.907-10.567l-18.037-21.427c-2.272-2.699-5.537-4.247-8.958-4.247
                        c-3.421,0-6.686,1.548-8.957,4.247l-18.037,21.427c-2.668,3.169-2.262,7.9,0.907,10.567c1.407,1.185,3.121,1.763,4.826,1.763
                        c2.137,0,4.258-0.908,5.741-2.67l7.901-9.386v80.751c0,8.686,5.927,21.607,22.254,21.607c0.652,0,20.27,0.04,39.968,0.079
                        c19.874,0.041,39.829,0.081,40.498,0.081c33.681,0,61.081-27.4,61.081-61.08C312.602,164.644,285.201,137.244,251.52,137.244z"/>
                    </svg>
                    <p>點擊上傳檔案<br>(PDF、圖片)</p>
                </div>
            </div>
            <div id="preview"></div>
        </div>
    </div>
    <div id="page-3" class="page">
        <div class="normal-border">
            <table class="title-table margin" border="1">
                <tr class="tr-1">
                    <th>公司名稱</th>
                    <td></td>
                </tr>
                <tr class="tr-2">
                    <th>交付項目</th>
                    <td></td>
                </tr>
                <tr class="tr-3">
                    <th>維護期間</th>
                    <td></td>
                </tr>
                <tr class="tr-4">
                    <th>系統名稱(Hostname)</th>
                    <td></td>
                </tr>
            </table>
            <table class="title-table" border="1">
                <tr class="tr-5">
                    <th>DB 負責人</th>
                    <td></td>
                </tr>
                <tr class="tr-6">
                    <th>顧問姓名</th>
                    <td></td>
                </tr>
                <tr class="tr-7">
                    <td colspan="2" id="date" style="font-size: 22pt;"></td>
                </tr>
            </table>
        </div>   
    </div>
    <div id="page-4" class="page">
        <div class="normal-border">
            <h1>系統使用空間</h1>
            <table class="system content-table" border="1">
                <tr class="header">
                    <th>Filesystem</th>
                    <th>Size</th>
                    <th>Used</th>
                    <th>Avail</th>
                    <th>Use%</th>
                    <th>Mounted</th>
                </tr>
            </table>
        </div>
    </div>
    <div id="page-5" class="page">
        <div class="normal-border">
            <h1>表空間使用報告</h1>
            <span class="unit">單位(MB)</span>
            <table class="tablespace content-table" border="1">
                <tr class="header">
                    <th>Tablespace</th>
                    <th>CurrentSize</th>
                    <th>Used</th>
                    <th>Free</th>
                    <th>MaxSize</th>
                    <th>Used%</th>
                </tr>
            </table>
        </div>
    </div>
    <div id="page-6" class="page">
        <div class="normal-border">
            <h1>RMAN備份</h1>
            <table class="rman content-table" border="1">
                <tr class="header">
                    <th>DATE</th>
                    <th>STATUS</th>
                </tr>
            </table>
        </div>
    </div>
    <div id="page-7" class="page">
        <div class="normal-border">
            <h1>DataGuard同步機制</h1>
            <table class="dataguard content-table" border="1">
                <tr class="header">
                    <th>THREAD#</th>
                    <th>DEST_ID</th>
                    <th>APPLIED</th>
                    <th>SEQUENCE#</th>
                    <th>TIME</th>
                </tr>
            </table>
        </div>
    </div>
    <div id="page-8" class="page">
        <div class="normal-border">
            <h1>物件狀態異常報告</h1>
            <p class="message"></p>
            <table class="exception content-table" border="1">
                <tr class="header">
                    <th>Owner</th>
                    <th>Object Name</th>
                    <th>Object Type</th>
                    <th>Status</th>
                </tr>
            </table>
        </div>
    </div>
    <div id="page-9" class="page">
        <div class="normal-border">
            <h2>效能分析說明</h2>
            <table class="effect content-table" border="1">
                <tr class="header">
                    <th>項目</th>
                    <th>數值</th>
                    <th>狀態</th>
                </tr>
            </table>
            <br><span>說明:</span><br>
            <span>1.若連線數明顯發生成長或區間差距過大，代表資料庫系統可能存在效能問題(如:資料鎖定 Lock wait)，目前連線數差異區間小，表示資料庫運作穩定。</span><br><br>
            <span>2.根據官方文件目前 Buffer Hit%符合原廠建議值，無須調整。</span>
            <h2>TOP SQL-請查看Elapsed Time Exec(s)執行較久的語法</h2>
            <table class="sql content-table" border="1">
                <tr class="header">
                    <th>Elapsed Time(s)</th>
                    <th>Execution</th>
                    <th>Elap per Exec(s)</th>
                    <th>SQL Id</th>
                    <th>SQL Text</th>
                </tr>
            </table>
        </div>
    </div>
    <div id="page-10" class="page">
        <div class="normal-border">
            <fieldset>
                <h1>總結</h1>
                <span>資料庫問題彙總與上一期比較</span>
                <table class="comparison content-table" border="1">
                    <tr class="header comTitle">
                        <th></th>
                    </tr>
                    <tr class="header">
                        <th>系統名稱</th>
                        <th colspan="2">物件狀態</th>
                        <th colspan="2">Dead Lock</th>
                        <th colspan="2">備份狀態</th>
                        <th colspan="2">Tablespace狀態</th>
                    </tr>
                    <tr class="content">
                        <td class="event"></td>
                        <td>
                            <input class="object1" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                        <td>
                            <input class="object2" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                        <td>
                            <input class="lock1" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                        <td>
                            <input class="lock2" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>  
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                        <td>
                            <input class="copy1" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>  
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                        <td>
                            <input class="copy2" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>  
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                        <td>
                            <input class="space1" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>  
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                        <td>
                            <input class="space2" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                    </tr>
                </table>
                <br><span>現況與建議事項</span>
                <table class="suggestion content-table" border="1">
                    <tr class="header">
                        <th>項目</th>
                        <th style="width:30%">狀況</th>
                    </tr>
                    <tr>
                        <td>空間配置</td>
                        <td>
                            <input class="s1" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                    </tr>
                    <tr>
                        <td>資料庫備份、回復機制</td>
                        <td>
                            <input class="s2" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                    </tr>
                    <tr>
                        <td>記憶體效能與效能相關參數設置</td>
                        <td>
                            <input class="s3" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                    </tr>
                    <tr>
                        <td>控制檔配置</td>
                        <td>
                            <input class="s4" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                    </tr>
                    <tr>
                        <td>重作日誌設定</td>
                        <td>
                            <input class="s5" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                    </tr>
                    <tr>
                        <td>Archive log file</td>
                        <td>
                            <input class="s6" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                    </tr>
                    <tr>
                        <td>剩餘空間</td>
                        <td>
                            <input class="s7" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                    </tr>
                    <tr>
                        <td>暫存空間設定</td>
                        <td>
                            <input class="s8" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                    </tr>
                    <tr>
                        <td>表格與索引分析狀況</td>
                        <td>
                            <input class="s9" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                    </tr>
                    <tr>
                        <td>物件狀態</td>
                        <td>
                            <input class="s10" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                    </tr>
                    <tr>
                        <td>資料庫內定期作業</td>
                        <td>
                            <input class="s11" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                    </tr>
                    <tr>
                        <td>權限設定</td>
                        <td>
                            <input class="s12" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                    </tr>
                    <tr>
                        <td>SQL與相關Log file</td>
                        <td>
                            <input class="s13" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                    </tr>
                    <tr>
                        <td>Alert log error</td>
                        <td>
                            <input class="s14" onclick="inputClick(event)">
                            <datalist role="listbox">
                                <option value="正常">正常</option>
                                <option value="異常">異常</option>
                            </datalist>
                        </td>
                    </tr>
                </table>
            </fieldset>
        </div>
    </div>
</body>
<script src="./js/copy_pages.js"></script>
<script src="./js/first_page.js"></script>
<script src="./js/edit.js"></script>
<script src="./js/upload.js"></script>
<script src="./js/print.js"></script>
<script src="./js/export.js"></script>
<script src="./js/input.js"></script>
</html>